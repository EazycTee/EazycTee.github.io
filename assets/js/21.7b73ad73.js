(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{333:function(e,t,a){"use strict";a.r(t);var r=a(5),s=Object(r.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"laravel-development-on-docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#laravel-development-on-docker"}},[e._v("#")]),e._v(" Laravel Development on Docker")]),e._v(" "),t("h2",{attrs:{id:"setting-up-docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#setting-up-docker"}},[e._v("#")]),e._v(" Setting Up Docker")]),e._v(" "),t("ul",[t("li",[e._v("Install DockerDesktop")]),e._v(" "),t("li",[e._v("Install "),t("a",{attrs:{href:"https://learn.microsoft.com/en-us/windows/wsl/install",target:"_blank",rel:"noopener noreferrer"}},[e._v("WSL2"),t("OutboundLink")],1),e._v(" (Windows only)\n"),t("ul",[t("li",[e._v("Install WSL2-Ubuntu")]),e._v(" "),t("li",[e._v('Docker -> Setting -> Resources -> WSL Integration -> set "Ubuntu" on')]),e._v(" "),t("li",[e._v("Disable Window's Firewall-Apps")])])])]),e._v(" "),t("h2",{attrs:{id:"start-up-a-docker-compose"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#start-up-a-docker-compose"}},[e._v("#")]),e._v(" Start Up A Docker-Compose")]),e._v(" "),t("ul",[t("li",[e._v("Intall Laravel under WSL2 (type "),t("code",[e._v("wsl")]),e._v(" to enter):")])]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-s")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"https://laravel.build/example-app"')]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("bash")]),e._v("\n")])])]),t("ul",[t("li",[e._v("Start up a docker-compose via Laravel-Sail (under WSL2):")])]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" example-app\n./vendor/bin/sail up\n")])])]),t("h2",{attrs:{id:"xdebug"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#xdebug"}},[e._v("#")]),e._v(" Xdebug")]),e._v(" "),t("ul",[t("li",[e._v("Set the appropriate mode(s) before starting Sail:")])]),e._v(" "),t("div",{staticClass:"language-text extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("SAIL_XDEBUG_MODE=develop,debug\n")])])]),t("ul",[t("li",[e._v("Config PhpStorm\n"),t("ul",[t("li",[e._v('Set "Start Listening for PHP Debug Connection" on.')]),e._v(" "),t("li",[e._v('Set "Break at first line in PHP Script" on.')])])]),e._v(" "),t("li",[e._v("Start Sail again, refresh the page "),t("code",[e._v("http://localhost")]),e._v(".")]),e._v(" "),t("li",[e._v("A debug request should be caught in PhpStorm now. Great, just map current project's path to the server path (should be "),t("code",[e._v("/var/www/html")]),e._v(" by default).")])]),e._v(" "),t("h2",{attrs:{id:"reverse-proxy-nginx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#reverse-proxy-nginx"}},[e._v("#")]),e._v(" Reverse-Proxy (Nginx)")]),e._v(" "),t("ul",[t("li",[e._v("Install "),t("a",{attrs:{href:"https://nginxproxymanager.com/guide/#project-goal",target:"_blank",rel:"noopener noreferrer"}},[e._v("Nginx-Proxy-Manager"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Add a DNS record to the "),t("code",[e._v("hosts")]),e._v(" file:")])]),e._v(" "),t("div",{staticClass:"language-text extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("127.0.0.1 proxy.docker.io\n")])])]),t("ul",[t("li",[e._v("Access "),t("a",{attrs:{href:"http://127.0.0.1:81",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://127.0.0.1:81"),t("OutboundLink")],1),e._v(", set up a proxy:\n"),t("ul",[t("li",[t("a",{attrs:{href:"https://proxy.docker.io",target:"_blank",rel:"noopener noreferrer"}},[e._v("proxy.docker.io"),t("OutboundLink")],1),e._v(" -> http://host.docker.internal:81")])])])])])}),[],!1,null,null,null);t.default=s.exports}}]);