(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{303:function(t,o,e){t.exports=e.p+"assets/img/js-object-layout.wps.332a9b4a.jpg"},335:function(t,o,e){"use strict";e.r(o);var s=e(5),r=Object(s.a)({},(function(){var t=this,o=t._self._c;return o("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[o("p",[t._v("曾经迷惑于 js 的原型链问题，后来找了一张图—— "),o("a",{attrs:{href:"http://www.mollypages.org/tutorials/js.mp",target:"_blank",rel:"noopener noreferrer"}},[t._v("JavaScript Object Layout"),o("OutboundLink")],1),t._v("，事情马上就变得清晰开朗啦。根据原图，我补充了 constructor 的指向，挪动了里面一些元素的位置，把 "),o("code",[t._v("__proto__")]),t._v(" 属性换成了 "),o("code",[t._v("Object.getPrototypeOf()")]),t._v(" 方法，绘制出了下面的图：")]),t._v(" "),o("p",[o("img",{attrs:{src:e(303),alt:"js-object-layout"}})]),t._v(" "),o("h2",{attrs:{id:"object-prototype"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#object-prototype"}},[t._v("#")]),t._v(" "),o("code",[t._v("Object.prototype")])]),t._v(" "),o("p",[o("code",[t._v("Object.prototype")]),t._v(" 是原型链的顶端，所有的对象都会继承它的属性和方法。")]),t._v(" "),o("h2",{attrs:{id:"object-prototype-constructor"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#object-prototype-constructor"}},[t._v("#")]),t._v(" "),o("code",[t._v("Object.prototype.constructor")])]),t._v(" "),o("p",[t._v("所有对象都继承了这个属性，属性值指向生成这个对象的构造函数，即 constructor。")]),t._v(" "),o("p",[t._v("所有函数（包括构造函数）的构造函数都是 Function （函数的构造函数），Function 的构造函数是它本身：")]),t._v(" "),o("div",{staticClass:"language-js extra-class"},[o("pre",{pre:!0,attrs:{class:"language-js"}},[o("code",[o("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("constructor "),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" Function "),o("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n"),o("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Array")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("constructor "),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" Function "),o("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n"),o("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Number")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("constructor "),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" Function "),o("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n"),o("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Function")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("constructor "),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" Function "),o("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n\n"),o("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),o("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),o("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("constructor "),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" Function "),o("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n")])])]),o("h2",{attrs:{id:"object-prototype-proto"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#object-prototype-proto"}},[t._v("#")]),t._v(" "),o("code",[t._v("Object.prototype.__proto__")])]),t._v(" "),o("p",[t._v("所有对象都继承了这个属性，属性值指向这个对象的原型（限于浏览器环境）。")]),t._v(" "),o("p",[t._v("其实，将 "),o("code",[t._v("__proto__")]),t._v(" 的指向连接起来，就是 JavaScript 的原型链。")]),t._v(" "),o("blockquote",[o("p",[t._v("注意：虽然 "),o("code",[t._v("__proto__")]),t._v(" 在如今的浏览器环境中得到普遍支持，但直至今天它仍然没有完全标准化。想要获取一个对象的原型，建议使用 "),o("code",[t._v("Object.getPrototypeOf()")]),t._v(" 方法。另外，也要尽量避免对 "),o("code",[t._v("__proto__")]),t._v(" 赋值，而应该使用 "),o("code",[t._v("Object.create()")]),t._v(" 方法来实现继承。")])]),t._v(" "),o("hr"),t._v(" "),o("p",[t._v("参考资料")]),t._v(" "),o("ul",[o("li",[o("a",{attrs:{href:"http://www.mollypages.org/tutorials/js.mp",target:"_blank",rel:"noopener noreferrer"}},[t._v("JavaScript Object Layout"),o("OutboundLink")],1),t._v(" by Hursh Jain")]),t._v(" "),o("li",[o("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",target:"_blank",rel:"noopener noreferrer"}},[t._v("MDN web docs - JavaScript Object"),o("OutboundLink")],1)])])])}),[],!1,null,null,null);o.default=r.exports}}]);