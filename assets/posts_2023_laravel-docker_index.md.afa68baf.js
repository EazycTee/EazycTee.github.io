import{_ as a,C as s,o as l,c as o,H as t,Q as n}from"./chunks/framework.80d33cfa.js";const b=JSON.parse('{"title":"Laravel Development on Docker","description":"","frontmatter":{"title":"Laravel Development on Docker","date":"2023-02-27T00:00:00.000Z","author":"Eazyc","tags":["programming"]},"headers":[],"relativePath":"posts/2023/laravel-docker/index.md","filePath":"posts/2023/laravel-docker/index.md"}'),r={name:"posts/2023/laravel-docker/index.md"},p=n(`<h1 id="laravel-development-on-docker" tabindex="-1">Laravel Development on Docker <a class="header-anchor" href="#laravel-development-on-docker" aria-label="Permalink to &quot;Laravel Development on Docker&quot;">​</a></h1><h2 id="setting-up-docker" tabindex="-1">Setting Up Docker <a class="header-anchor" href="#setting-up-docker" aria-label="Permalink to &quot;Setting Up Docker&quot;">​</a></h2><ul><li>Install DockerDesktop</li><li>Install <a href="https://learn.microsoft.com/en-us/windows/wsl/install" target="_blank" rel="noreferrer">WSL2</a> (Windows only) <ul><li>Install WSL2-Ubuntu</li><li>Docker -&gt; Setting -&gt; Resources -&gt; WSL Integration -&gt; set &quot;Ubuntu&quot; on</li><li>Disable Window&#39;s Firewall-Apps</li></ul></li></ul><h2 id="start-up-a-docker-compose" tabindex="-1">Start Up A Docker-Compose <a class="header-anchor" href="#start-up-a-docker-compose" aria-label="Permalink to &quot;Start Up A Docker-Compose&quot;">​</a></h2><ul><li>Intall Laravel under WSL2 (type <code>wsl</code> to enter):</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">curl</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-s</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;https://laravel.build/example-app&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">bash</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">curl</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-s</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;https://laravel.build/example-app&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">bash</span></span></code></pre></div><ul><li>Start up a docker-compose via Laravel-Sail (under WSL2):</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">cd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">example-app</span></span>
<span class="line"><span style="color:#B392F0;">./vendor/bin/sail</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">up</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">cd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">example-app</span></span>
<span class="line"><span style="color:#6F42C1;">./vendor/bin/sail</span><span style="color:#24292E;"> </span><span style="color:#032F62;">up</span></span></code></pre></div><h2 id="xdebug" tabindex="-1">Xdebug <a class="header-anchor" href="#xdebug" aria-label="Permalink to &quot;Xdebug&quot;">​</a></h2><ul><li>Set the appropriate mode(s) before starting Sail:</li></ul><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">SAIL_XDEBUG_MODE=develop,debug</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">SAIL_XDEBUG_MODE=develop,debug</span></span></code></pre></div><ul><li>Config PhpStorm <ul><li>Set &quot;Start Listening for PHP Debug Connection&quot; on.</li><li>Set &quot;Break at first line in PHP Script&quot; on.</li></ul></li><li>Start Sail again, refresh the page <code>http://localhost</code>.</li><li>A debug request should be caught in PhpStorm now. Great, just map current project&#39;s path to the server path (should be <code>/var/www/html</code> by default).</li></ul><h2 id="reverse-proxy-nginx" tabindex="-1">Reverse-Proxy (Nginx) <a class="header-anchor" href="#reverse-proxy-nginx" aria-label="Permalink to &quot;Reverse-Proxy (Nginx)&quot;">​</a></h2><ul><li>Install <a href="https://nginxproxymanager.com/guide/#project-goal" target="_blank" rel="noreferrer">Nginx-Proxy-Manager</a></li><li>Add a DNS record to the <code>hosts</code> file:</li></ul><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">127.0.0.1 proxy.docker.io</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">127.0.0.1 proxy.docker.io</span></span></code></pre></div><ul><li>Access <a href="http://127.0.0.1:81" target="_blank" rel="noreferrer">http://127.0.0.1:81</a>, set up a proxy: <ul><li><a href="https://proxy.docker.io" target="_blank" rel="noreferrer">proxy.docker.io</a> -&gt; <a href="http://host.docker.internal:81" target="_blank" rel="noreferrer">http://host.docker.internal:81</a></li></ul></li></ul>`,16);function c(i,d,u,h,g,v){const e=s("Comment");return l(),o("div",null,[p,t(e)])}const k=a(r,[["render",c]]);export{b as __pageData,k as default};
