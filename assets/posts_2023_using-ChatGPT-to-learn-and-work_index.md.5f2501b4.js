import{_ as a,C as n,o as l,c as o,H as p,Q as t}from"./chunks/framework.80d33cfa.js";const g=JSON.parse('{"title":"使用 ChatGPT 来辅助学习和编程","description":"","frontmatter":{"title":"使用 ChatGPT 来辅助学习和编程","date":"2023-10-12T00:00:00.000Z","author":"Eazyc","tags":["programming","misc"]},"headers":[],"relativePath":"posts/2023/using-ChatGPT-to-learn-and-work/index.md","filePath":"posts/2023/using-ChatGPT-to-learn-and-work/index.md"}'),e={name:"posts/2023/using-ChatGPT-to-learn-and-work/index.md"},c=t(`<h1 id="使用-chatgpt-来辅助学习和编程" tabindex="-1">使用 ChatGPT 来辅助学习和编程 <a class="header-anchor" href="#使用-chatgpt-来辅助学习和编程" aria-label="Permalink to &quot;使用 ChatGPT 来辅助学习和编程&quot;">​</a></h1><p>标题中的 ChatGPT 在此处泛指基于大语言模型 (LLM) 的聊天机器人服务，包括但不限于 OpenAI 的 ChatGPT，下文将使用 &quot;ChatBot&quot; 称呼。</p><p>从我开始接触 ChatBot (2022年初) 截至今日，我在使用得较多的 ChatBot 是 &quot;Microsoft Bing Chat&quot; 和 &quot;Google Bard&quot;。很多时候，我都会想像与人交互一样向 ChatBot 直接且简单地提出问题。这通常都可以比使用搜索引擎更快地得到答案。然而，对于一些特殊场景，或是比较复杂的编程项目问题，我会调整一下交互方式。</p><p>下面是两个我认为比较有参考意义的交互方式：</p><hr><h2 id="_1-引导式学习" tabindex="-1">1. 引导式学习 <a class="header-anchor" href="#_1-引导式学习" aria-label="Permalink to &quot;1. 引导式学习&quot;">​</a></h2><blockquote><p>让 ChatBot 扮演导师，以苏格拉底式的风格与用户聊天，引导用户自己逐步寻找问题的答案：</p></blockquote><h4 id="user" tabindex="-1">User： <a class="header-anchor" href="#user" aria-label="Permalink to &quot;User：&quot;">​</a></h4><p>请用苏格拉底聊天的风格让我意识到牙齿健康的重要性。</p><h4 id="chatbot" tabindex="-1">ChatBot: <a class="header-anchor" href="#chatbot" aria-label="Permalink to &quot;ChatBot:&quot;">​</a></h4><p><strong>苏格拉底：</strong> 你知道牙齿健康的重要性吗？<br><strong>你：</strong> 当然知道，牙齿是人体的重要器官，负责咀嚼食物、发音等功能。 <strong>苏格拉底：</strong> 那你认为牙齿健康有什么好处呢？<br><strong>你：</strong> 牙齿健康可以帮助我们更好地咀嚼食物，促进消化吸收；还可以帮助我们发出清晰的声音，更好地与人交流。<br><strong>苏格拉底：</strong> 这些都是很有道理的。那么，你认为牙齿不健康会有什么坏处呢？<br><strong>你：</strong> 牙齿不健康会导致牙痛、牙龈炎、龋齿等疾病，影响我们的日常生活。严重的牙齿疾病甚至会导致牙齿脱落，影响我们的咀嚼功能和发音。<br><strong>苏格拉底：</strong> 你说得很好。那么，我们应该如何保持牙齿健康呢？<br><strong>你：</strong> 我们应该每天早晚刷牙，饭后漱口，定期去看牙医。<br><strong>苏格拉底：</strong> 这些都是非常重要的。那么，你认为我们应该如何提高牙齿健康意识呢？<br><strong>你：</strong> 我们应该从小培养良好的口腔卫生习惯，并定期接受牙齿检查和保健。<br><strong>苏格拉底：</strong> 你说的很有见地。总而言之，牙齿健康对我们的生活非常重要，我们应该从小养成良好的口腔卫生习惯，定期接受牙齿检查和保健，才能拥有一口健康的牙齿。<br><strong>你：</strong> 我同意你的观点。我会从现在开始更加注意牙齿健康。<br><strong>苏格拉底：</strong> 很好，我很高兴听到你这么说。<br> （苏格拉底与你握手） <strong>苏格拉底：</strong> 希望我们下次再聊。<br> （苏格拉底离开） （你独自思考）</p><h2 id="_2-场景复杂的问题" tabindex="-1">2. 场景复杂的问题 <a class="header-anchor" href="#_2-场景复杂的问题" aria-label="Permalink to &quot;2. 场景复杂的问题&quot;">​</a></h2><blockquote><p>以编程问题为例，当一个开发项目涉及的架构、语言较多，项目结构、交互场景繁杂时，我会使用 Markdown 格式来提供代码片段，并阐述引起问题的场景：</p></blockquote><h4 id="user-1" tabindex="-1">User: <a class="header-anchor" href="#user-1" aria-label="Permalink to &quot;User:&quot;">​</a></h4><p>请帮我处理这个 React Native 引起的 Android 问题：</p><p>在 Android App 中成功调用 JS <code>NativeModules.Installer.install()</code> 方法并跳转到系统安装界面后，安装界面弹出弹窗报错：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">open failed: EACCES (Permission denied)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">open failed: EACCES (Permission denied)</span></span></code></pre></div><p>这是调用的 JavaScript 方法：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> RNFS </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;react-native-fs&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">fileName</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;KioskLite-v1.0.18-Prod-20230925.apk&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">filePath</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">\`\${</span><span style="color:#79B8FF;">RNFS</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">ExternalCachesDirectoryPath</span><span style="color:#9ECBFF;">}/\${</span><span style="color:#E1E4E8;">fileName</span><span style="color:#9ECBFF;">}\`</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">NativeModules.Installer.</span><span style="color:#B392F0;">install</span><span style="color:#E1E4E8;">(filePath)</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">then</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">res</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(res))</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">catch</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">e</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> console.</span><span style="color:#B392F0;">warn</span><span style="color:#E1E4E8;">(e))</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> RNFS </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;react-native-fs&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">fileName</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;KioskLite-v1.0.18-Prod-20230925.apk&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">filePath</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">\`\${</span><span style="color:#005CC5;">RNFS</span><span style="color:#032F62;">.</span><span style="color:#24292E;">ExternalCachesDirectoryPath</span><span style="color:#032F62;">}/\${</span><span style="color:#24292E;">fileName</span><span style="color:#032F62;">}\`</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">NativeModules.Installer.</span><span style="color:#6F42C1;">install</span><span style="color:#24292E;">(filePath)</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">then</span><span style="color:#24292E;">(</span><span style="color:#E36209;">res</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(res))</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">catch</span><span style="color:#24292E;">(</span><span style="color:#E36209;">e</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> console.</span><span style="color:#6F42C1;">warn</span><span style="color:#24292E;">(e))</span></span></code></pre></div><p>这是 JS 引用的 ReactNative Android JAVA 插件：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// imports...</span></span>
<span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Installer</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ReactContextBaseJavaModule</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#E1E4E8;">  @</span><span style="color:#F97583;">ReactMethod</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">install</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">final</span><span style="color:#E1E4E8;"> String </span><span style="color:#FFAB70;">path</span><span style="color:#E1E4E8;">, Callback </span><span style="color:#FFAB70;">successCallback</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      Intent intent </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Intent</span><span style="color:#E1E4E8;">(Intent.ACTION_VIEW);</span></span>
<span class="line"><span style="color:#E1E4E8;">      intent.</span><span style="color:#B392F0;">setFlags</span><span style="color:#E1E4E8;">(Intent.FLAG_GRANT_READ_URI_PERMISSION);</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (Build.VERSION.SDK_INT </span><span style="color:#F97583;">&gt;=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">24</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        String packageName </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> context.</span><span style="color:#B392F0;">getPackageName</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">        Uri contentUri </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> FileProvider.</span><span style="color:#B392F0;">getUriForFile</span><span style="color:#E1E4E8;">(context, packageName </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;.provider&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">File</span><span style="color:#E1E4E8;">(path));</span></span>
<span class="line"><span style="color:#E1E4E8;">        intent.</span><span style="color:#B392F0;">setDataAndType</span><span style="color:#E1E4E8;">(contentUri, </span><span style="color:#9ECBFF;">&quot;application/vnd.android.package-archive&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">      } </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        intent.</span><span style="color:#B392F0;">setDataAndType</span><span style="color:#E1E4E8;">(Uri.</span><span style="color:#B392F0;">parse</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;file://&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> path), </span><span style="color:#9ECBFF;">&quot;application/vnd.android.package-archive&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">      intent.</span><span style="color:#B392F0;">addFlags</span><span style="color:#E1E4E8;">(Intent.FLAG_ACTIVITY_NEW_TASK);</span></span>
<span class="line"><span style="color:#E1E4E8;">      context.</span><span style="color:#B392F0;">startActivity</span><span style="color:#E1E4E8;">(intent);</span></span>
<span class="line"><span style="color:#E1E4E8;">      successCallback.</span><span style="color:#B392F0;">invoke</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;Installation success&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span><span style="color:#F97583;">catch</span><span style="color:#E1E4E8;"> (Exception </span><span style="color:#FFAB70;">e</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      Log.</span><span style="color:#B392F0;">e</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;Installer&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;Installation failed&quot;</span><span style="color:#E1E4E8;">, e);</span></span>
<span class="line"><span style="color:#E1E4E8;">      successCallback.</span><span style="color:#B392F0;">invoke</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;Installation failed&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// imports...</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Installer</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ReactContextBaseJavaModule</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">  @</span><span style="color:#D73A49;">ReactMethod</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">install</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">final</span><span style="color:#24292E;"> String </span><span style="color:#E36209;">path</span><span style="color:#24292E;">, Callback </span><span style="color:#E36209;">successCallback</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">try</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      Intent intent </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Intent</span><span style="color:#24292E;">(Intent.ACTION_VIEW);</span></span>
<span class="line"><span style="color:#24292E;">      intent.</span><span style="color:#6F42C1;">setFlags</span><span style="color:#24292E;">(Intent.FLAG_GRANT_READ_URI_PERMISSION);</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (Build.VERSION.SDK_INT </span><span style="color:#D73A49;">&gt;=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">24</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        String packageName </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> context.</span><span style="color:#6F42C1;">getPackageName</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        Uri contentUri </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> FileProvider.</span><span style="color:#6F42C1;">getUriForFile</span><span style="color:#24292E;">(context, packageName </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;.provider&quot;</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">File</span><span style="color:#24292E;">(path));</span></span>
<span class="line"><span style="color:#24292E;">        intent.</span><span style="color:#6F42C1;">setDataAndType</span><span style="color:#24292E;">(contentUri, </span><span style="color:#032F62;">&quot;application/vnd.android.package-archive&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">      } </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        intent.</span><span style="color:#6F42C1;">setDataAndType</span><span style="color:#24292E;">(Uri.</span><span style="color:#6F42C1;">parse</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;file://&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> path), </span><span style="color:#032F62;">&quot;application/vnd.android.package-archive&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">      intent.</span><span style="color:#6F42C1;">addFlags</span><span style="color:#24292E;">(Intent.FLAG_ACTIVITY_NEW_TASK);</span></span>
<span class="line"><span style="color:#24292E;">      context.</span><span style="color:#6F42C1;">startActivity</span><span style="color:#24292E;">(intent);</span></span>
<span class="line"><span style="color:#24292E;">      successCallback.</span><span style="color:#6F42C1;">invoke</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;Installation success&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    } </span><span style="color:#D73A49;">catch</span><span style="color:#24292E;"> (Exception </span><span style="color:#E36209;">e</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">      Log.</span><span style="color:#6F42C1;">e</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;Installer&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;Installation failed&quot;</span><span style="color:#24292E;">, e);</span></span>
<span class="line"><span style="color:#24292E;">      successCallback.</span><span style="color:#6F42C1;">invoke</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;Installation failed&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>这是项目的 <code>AndroidManifest.xml</code> 文件：</p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">manifest</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">xmlns:android</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;http://schemas.android.com/apk/res/android&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">xmlns:tools</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;http://schemas.android.com/tools&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">&lt;!-- some users-permissions... --&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">application</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">android:name</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;.MainApplication&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">android:label</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;\${app_name}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">android:icon</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;@mipmap/ic_launcher&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">android:roundIcon</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;@mipmap/ic_launcher_round&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">android:allowBackup</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;false&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">android:theme</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;@style/AppTheme&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">android:usesCleartextTraffic</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;true&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">&lt;!-- some activities... --&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">provider</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">android:name</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;androidx.core.content.FileProvider&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">android:authorities</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;\${applicationId}.provider&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">android:exported</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;false&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">android:grantUriPermissions</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;true&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">meta-data</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">android:name</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;android.support.FILE_PROVIDER_PATHS&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">android:resource</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;@xml/file_paths&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/</span><span style="color:#85E89D;">provider</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;/</span><span style="color:#85E89D;">application</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">manifest</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">manifest</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">xmlns:android</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;http://schemas.android.com/apk/res/android&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">xmlns:tools</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;http://schemas.android.com/tools&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">&lt;!-- some users-permissions... --&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">application</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">android:name</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;.MainApplication&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">android:label</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;\${app_name}&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">android:icon</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;@mipmap/ic_launcher&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">android:roundIcon</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;@mipmap/ic_launcher_round&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">android:allowBackup</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;false&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">android:theme</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;@style/AppTheme&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">android:usesCleartextTraffic</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;true&quot;</span></span>
<span class="line"><span style="color:#24292E;">  &gt;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">&lt;!-- some activities... --&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">provider</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">android:name</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;androidx.core.content.FileProvider&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">android:authorities</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;\${applicationId}.provider&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">android:exported</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;false&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">android:grantUriPermissions</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;true&quot;</span></span>
<span class="line"><span style="color:#24292E;">    &gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">meta-data</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">android:name</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;android.support.FILE_PROVIDER_PATHS&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">android:resource</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;@xml/file_paths&quot;</span></span>
<span class="line"><span style="color:#24292E;">      /&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/</span><span style="color:#22863A;">provider</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;/</span><span style="color:#22863A;">application</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">manifest</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><p>这是项目的 <code>file_paths.xml</code> 文件：</p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;?</span><span style="color:#85E89D;">xml</span><span style="color:#B392F0;"> version</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;1.0&quot;</span><span style="color:#B392F0;"> encoding</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;utf-8&quot;</span><span style="color:#E1E4E8;">?&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">paths</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">xmlns:android</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;http://schemas.android.com/apk/res/android&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">external-path</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">name</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;downloads&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">path</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;Download/&quot;</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">paths</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;?</span><span style="color:#22863A;">xml</span><span style="color:#6F42C1;"> version</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;1.0&quot;</span><span style="color:#6F42C1;"> encoding</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;utf-8&quot;</span><span style="color:#24292E;">?&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">paths</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">xmlns:android</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;http://schemas.android.com/apk/res/android&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">external-path</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">name</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;downloads&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">path</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;Download/&quot;</span><span style="color:#24292E;"> /&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">paths</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><h4 id="chatbot-1" tabindex="-1">ChatBot: <a class="header-anchor" href="#chatbot-1" aria-label="Permalink to &quot;ChatBot:&quot;">​</a></h4><ul><li>您的 <code>AndroidManifest.xml</code> 文件中没有声明安装未知来源应用的权限，这个权限是 <code>android.permission.REQUEST_INSTALL_PACKAGES</code>¹。如果您的应用要安装其他应用，那么您需要在 <code>AndroidManifest.xml</code> 文件中添加这个权限，如下所示：</li></ul><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">uses-permission</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">android:name</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;android.permission.REQUEST_INSTALL_PACKAGES&quot;</span><span style="color:#E1E4E8;"> /&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">uses-permission</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">android:name</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;android.permission.REQUEST_INSTALL_PACKAGES&quot;</span><span style="color:#24292E;"> /&gt;</span></span></code></pre></div><ul><li>您的 <code>file_paths.xml</code> 文件中指定的路径是 <code>Download/</code>，但是您的代码中使用的路径是 <code>RNFS.ExternalCachesDirectoryPath</code>，这两个路径可能不一致。您需要确保您的文件提供器能够访问您要安装的 APK 文件所在的路径²。您可以尝试修改 <code>file_paths.xml</code> 文件中的路径为 <code>.</code>，表示根目录，或者使用其他合适的路径³。</li></ul><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">external-path</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">name</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;downloads&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">path</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;.&quot;</span><span style="color:#E1E4E8;"> /&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">external-path</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">name</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;downloads&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">path</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;.&quot;</span><span style="color:#24292E;"> /&gt;</span></span></code></pre></div><ul><li>您的代码中使用了 <code>intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)</code>，但是这个标志只能在 API 24 及以上版本生效⁴。如果您要支持低版本的 Android 设备，那么您需要在调用 <code>startActivity(intent)</code> 之前添加一行代码，如下所示：</li></ul><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">intent.</span><span style="color:#B392F0;">addFlags</span><span style="color:#E1E4E8;">(Intent.FLAG_GRANT_READ_URI_PERMISSION);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">intent.</span><span style="color:#6F42C1;">addFlags</span><span style="color:#24292E;">(Intent.FLAG_GRANT_READ_URI_PERMISSION);</span></span></code></pre></div><p>这样可以让安装程序获得读取 APK 文件的权限。</p><hr>`,34);function r(E,y,i,d,F,u){const s=n("Comment");return l(),o("div",null,[c,p(s)])}const C=a(e,[["render",r]]);export{g as __pageData,C as default};
