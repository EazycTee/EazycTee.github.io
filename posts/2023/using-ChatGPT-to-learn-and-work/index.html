<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>使用 ChatGPT 来辅助学习和编程 | Eazyc's Notebook</title>
    <meta name="description" content="blog,Eazyc,programming,vitepress,dev,develop,development">
    <link rel="preload stylesheet" href="/assets/style.0f2667af.css" as="style">
    
    <script type="module" src="/assets/app.e312f019.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.80d33cfa.js">
    <link rel="modulepreload" href="/assets/chunks/theme.07873a2c.js">
    <link rel="modulepreload" href="/assets/posts_2023_using-ChatGPT-to-learn-and-work_index.md.5f2501b4.lean.js">
    <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><!--[--><div class="Layout" data-v-4064354f><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c8291ffa></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c8291ffa> Skip to content </a><!--]--><!----><header class="VPNav" data-v-4064354f data-v-5bdc5df3><div class="VPNavBar" data-v-5bdc5df3 data-v-f1abbc6e><div class="container" data-v-f1abbc6e><div class="title" data-v-f1abbc6e><div class="VPNavBarTitle" data-v-f1abbc6e data-v-2973dbb4><a class="title" href="/" data-v-2973dbb4><!--[--><!--]--><!----><!--[-->Eazyc&#39;s Notebook<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-f1abbc6e><div class="curtain" data-v-f1abbc6e></div><div class="content-body" data-v-f1abbc6e><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-f1abbc6e><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-f1abbc6e data-v-f732b5d0><span id="main-nav-aria-label" class="visually-hidden" data-v-f732b5d0>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/pages/tags.html" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>Tags</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-f1abbc6e data-v-5e9f0637><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-5e9f0637 data-v-3329432d data-v-1c29e291><span class="check" data-v-1c29e291><span class="icon" data-v-1c29e291><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-3329432d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-3329432d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-f1abbc6e data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/EazycTee" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-16cf740a><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-f1abbc6e data-v-c8c2ae4b data-v-aa8de344><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-aa8de344><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-aa8de344><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-aa8de344><div class="VPMenu" data-v-aa8de344 data-v-e42ed9b3><!----><!--[--><!--[--><!----><div class="group" data-v-c8c2ae4b><div class="item appearance" data-v-c8c2ae4b><p class="label" data-v-c8c2ae4b>Appearance</p><div class="appearance-action" data-v-c8c2ae4b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-c8c2ae4b data-v-3329432d data-v-1c29e291><span class="check" data-v-1c29e291><span class="icon" data-v-1c29e291><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-3329432d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-3329432d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-c8c2ae4b><div class="item social-links" data-v-c8c2ae4b><div class="VPSocialLinks social-links-list" data-v-c8c2ae4b data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/EazycTee" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-16cf740a><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-f1abbc6e data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav fixed reached-top" data-v-4064354f data-v-9e669cc1><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-9e669cc1 data-v-24251f6f><button data-v-24251f6f>Return to top</button><!----></div></div><!----><div class="VPContent" id="VPContent" data-v-4064354f data-v-3cf691b6><div class="VPDoc has-aside" data-v-3cf691b6 data-v-a3c25e27><!--[--><!--]--><div class="container" data-v-a3c25e27><div class="aside" data-v-a3c25e27><div class="aside-curtain" data-v-a3c25e27></div><div class="aside-container" data-v-a3c25e27><div class="aside-content" data-v-a3c25e27><div class="VPDocAside" data-v-a3c25e27 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-cb998dce data-v-626d8d18><div class="content" data-v-626d8d18><div class="outline-marker" data-v-626d8d18></div><div class="outline-title" role="heading" data-v-626d8d18>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-626d8d18><span class="visually-hidden" id="doc-outline-aria-label" data-v-626d8d18> Table of Contents for current page </span><ul class="root" data-v-626d8d18 data-v-463da30f><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-a3c25e27><div class="content-container" data-v-a3c25e27><!--[--><!--]--><!----><main class="main" data-v-a3c25e27><div style="position:relative;" class="vp-doc _posts_2023_using-ChatGPT-to-learn-and-work_index" data-v-a3c25e27><div><h1 id="使用-chatgpt-来辅助学习和编程" tabindex="-1">使用 ChatGPT 来辅助学习和编程 <a class="header-anchor" href="#使用-chatgpt-来辅助学习和编程" aria-label="Permalink to &quot;使用 ChatGPT 来辅助学习和编程&quot;">​</a></h1><p>标题中的 ChatGPT 在此处泛指基于大语言模型 (LLM) 的聊天机器人服务，包括但不限于 OpenAI 的 ChatGPT，下文将使用 &quot;ChatBot&quot; 称呼。</p><p>从我开始接触 ChatBot (2022年初) 截至今日，我在使用得较多的 ChatBot 是 &quot;Microsoft Bing Chat&quot; 和 &quot;Google Bard&quot;。很多时候，我都会想像与人交互一样向 ChatBot 直接且简单地提出问题。这通常都可以比使用搜索引擎更快地得到答案。然而，对于一些特殊场景，或是比较复杂的编程项目问题，我会调整一下交互方式。</p><p>下面是两个我认为比较有参考意义的交互方式：</p><hr><h2 id="_1-引导式学习" tabindex="-1">1. 引导式学习 <a class="header-anchor" href="#_1-引导式学习" aria-label="Permalink to &quot;1. 引导式学习&quot;">​</a></h2><blockquote><p>让 ChatBot 扮演导师，以苏格拉底式的风格与用户聊天，引导用户自己逐步寻找问题的答案：</p></blockquote><h4 id="user" tabindex="-1">User： <a class="header-anchor" href="#user" aria-label="Permalink to &quot;User：&quot;">​</a></h4><p>请用苏格拉底聊天的风格让我意识到牙齿健康的重要性。</p><h4 id="chatbot" tabindex="-1">ChatBot: <a class="header-anchor" href="#chatbot" aria-label="Permalink to &quot;ChatBot:&quot;">​</a></h4><p><strong>苏格拉底：</strong> 你知道牙齿健康的重要性吗？<br><strong>你：</strong> 当然知道，牙齿是人体的重要器官，负责咀嚼食物、发音等功能。 <strong>苏格拉底：</strong> 那你认为牙齿健康有什么好处呢？<br><strong>你：</strong> 牙齿健康可以帮助我们更好地咀嚼食物，促进消化吸收；还可以帮助我们发出清晰的声音，更好地与人交流。<br><strong>苏格拉底：</strong> 这些都是很有道理的。那么，你认为牙齿不健康会有什么坏处呢？<br><strong>你：</strong> 牙齿不健康会导致牙痛、牙龈炎、龋齿等疾病，影响我们的日常生活。严重的牙齿疾病甚至会导致牙齿脱落，影响我们的咀嚼功能和发音。<br><strong>苏格拉底：</strong> 你说得很好。那么，我们应该如何保持牙齿健康呢？<br><strong>你：</strong> 我们应该每天早晚刷牙，饭后漱口，定期去看牙医。<br><strong>苏格拉底：</strong> 这些都是非常重要的。那么，你认为我们应该如何提高牙齿健康意识呢？<br><strong>你：</strong> 我们应该从小培养良好的口腔卫生习惯，并定期接受牙齿检查和保健。<br><strong>苏格拉底：</strong> 你说的很有见地。总而言之，牙齿健康对我们的生活非常重要，我们应该从小养成良好的口腔卫生习惯，定期接受牙齿检查和保健，才能拥有一口健康的牙齿。<br><strong>你：</strong> 我同意你的观点。我会从现在开始更加注意牙齿健康。<br><strong>苏格拉底：</strong> 很好，我很高兴听到你这么说。<br> （苏格拉底与你握手） <strong>苏格拉底：</strong> 希望我们下次再聊。<br> （苏格拉底离开） （你独自思考）</p><h2 id="_2-场景复杂的问题" tabindex="-1">2. 场景复杂的问题 <a class="header-anchor" href="#_2-场景复杂的问题" aria-label="Permalink to &quot;2. 场景复杂的问题&quot;">​</a></h2><blockquote><p>以编程问题为例，当一个开发项目涉及的架构、语言较多，项目结构、交互场景繁杂时，我会使用 Markdown 格式来提供代码片段，并阐述引起问题的场景：</p></blockquote><h4 id="user-1" tabindex="-1">User: <a class="header-anchor" href="#user-1" aria-label="Permalink to &quot;User:&quot;">​</a></h4><p>请帮我处理这个 React Native 引起的 Android 问题：</p><p>在 Android App 中成功调用 JS <code>NativeModules.Installer.install()</code> 方法并跳转到系统安装界面后，安装界面弹出弹窗报错：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">open failed: EACCES (Permission denied)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">open failed: EACCES (Permission denied)</span></span></code></pre></div><p>这是调用的 JavaScript 方法：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> RNFS </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;react-native-fs&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">fileName</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;KioskLite-v1.0.18-Prod-20230925.apk&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">filePath</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`${</span><span style="color:#79B8FF;">RNFS</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">ExternalCachesDirectoryPath</span><span style="color:#9ECBFF;">}/${</span><span style="color:#E1E4E8;">fileName</span><span style="color:#9ECBFF;">}`</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">NativeModules.Installer.</span><span style="color:#B392F0;">install</span><span style="color:#E1E4E8;">(filePath)</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">then</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">res</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(res))</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">catch</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">e</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> console.</span><span style="color:#B392F0;">warn</span><span style="color:#E1E4E8;">(e))</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> RNFS </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;react-native-fs&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">fileName</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;KioskLite-v1.0.18-Prod-20230925.apk&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">filePath</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`${</span><span style="color:#005CC5;">RNFS</span><span style="color:#032F62;">.</span><span style="color:#24292E;">ExternalCachesDirectoryPath</span><span style="color:#032F62;">}/${</span><span style="color:#24292E;">fileName</span><span style="color:#032F62;">}`</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">NativeModules.Installer.</span><span style="color:#6F42C1;">install</span><span style="color:#24292E;">(filePath)</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">then</span><span style="color:#24292E;">(</span><span style="color:#E36209;">res</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(res))</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">catch</span><span style="color:#24292E;">(</span><span style="color:#E36209;">e</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> console.</span><span style="color:#6F42C1;">warn</span><span style="color:#24292E;">(e))</span></span></code></pre></div><p>这是 JS 引用的 ReactNative Android JAVA 插件：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// imports...</span></span>
<span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Installer</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ReactContextBaseJavaModule</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#E1E4E8;">  @</span><span style="color:#F97583;">ReactMethod</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">install</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">final</span><span style="color:#E1E4E8;"> String </span><span style="color:#FFAB70;">path</span><span style="color:#E1E4E8;">, Callback </span><span style="color:#FFAB70;">successCallback</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      Intent intent </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Intent</span><span style="color:#E1E4E8;">(Intent.ACTION_VIEW);</span></span>
<span class="line"><span style="color:#E1E4E8;">      intent.</span><span style="color:#B392F0;">setFlags</span><span style="color:#E1E4E8;">(Intent.FLAG_GRANT_READ_URI_PERMISSION);</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (Build.VERSION.SDK_INT </span><span style="color:#F97583;">&gt;=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">24</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        String packageName </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> context.</span><span style="color:#B392F0;">getPackageName</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">        Uri contentUri </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> FileProvider.</span><span style="color:#B392F0;">getUriForFile</span><span style="color:#E1E4E8;">(context, packageName </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;.provider&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">File</span><span style="color:#E1E4E8;">(path));</span></span>
<span class="line"><span style="color:#E1E4E8;">        intent.</span><span style="color:#B392F0;">setDataAndType</span><span style="color:#E1E4E8;">(contentUri, </span><span style="color:#9ECBFF;">&quot;application/vnd.android.package-archive&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">      } </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        intent.</span><span style="color:#B392F0;">setDataAndType</span><span style="color:#E1E4E8;">(Uri.</span><span style="color:#B392F0;">parse</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;file://&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> path), </span><span style="color:#9ECBFF;">&quot;application/vnd.android.package-archive&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">      intent.</span><span style="color:#B392F0;">addFlags</span><span style="color:#E1E4E8;">(Intent.FLAG_ACTIVITY_NEW_TASK);</span></span>
<span class="line"><span style="color:#E1E4E8;">      context.</span><span style="color:#B392F0;">startActivity</span><span style="color:#E1E4E8;">(intent);</span></span>
<span class="line"><span style="color:#E1E4E8;">      successCallback.</span><span style="color:#B392F0;">invoke</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;Installation success&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span><span style="color:#F97583;">catch</span><span style="color:#E1E4E8;"> (Exception </span><span style="color:#FFAB70;">e</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      Log.</span><span style="color:#B392F0;">e</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;Installer&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;Installation failed&quot;</span><span style="color:#E1E4E8;">, e);</span></span>
<span class="line"><span style="color:#E1E4E8;">      successCallback.</span><span style="color:#B392F0;">invoke</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;Installation failed&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// imports...</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Installer</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ReactContextBaseJavaModule</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">  @</span><span style="color:#D73A49;">ReactMethod</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">install</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">final</span><span style="color:#24292E;"> String </span><span style="color:#E36209;">path</span><span style="color:#24292E;">, Callback </span><span style="color:#E36209;">successCallback</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">try</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      Intent intent </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Intent</span><span style="color:#24292E;">(Intent.ACTION_VIEW);</span></span>
<span class="line"><span style="color:#24292E;">      intent.</span><span style="color:#6F42C1;">setFlags</span><span style="color:#24292E;">(Intent.FLAG_GRANT_READ_URI_PERMISSION);</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (Build.VERSION.SDK_INT </span><span style="color:#D73A49;">&gt;=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">24</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        String packageName </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> context.</span><span style="color:#6F42C1;">getPackageName</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        Uri contentUri </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> FileProvider.</span><span style="color:#6F42C1;">getUriForFile</span><span style="color:#24292E;">(context, packageName </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;.provider&quot;</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">File</span><span style="color:#24292E;">(path));</span></span>
<span class="line"><span style="color:#24292E;">        intent.</span><span style="color:#6F42C1;">setDataAndType</span><span style="color:#24292E;">(contentUri, </span><span style="color:#032F62;">&quot;application/vnd.android.package-archive&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">      } </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        intent.</span><span style="color:#6F42C1;">setDataAndType</span><span style="color:#24292E;">(Uri.</span><span style="color:#6F42C1;">parse</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;file://&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> path), </span><span style="color:#032F62;">&quot;application/vnd.android.package-archive&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">      intent.</span><span style="color:#6F42C1;">addFlags</span><span style="color:#24292E;">(Intent.FLAG_ACTIVITY_NEW_TASK);</span></span>
<span class="line"><span style="color:#24292E;">      context.</span><span style="color:#6F42C1;">startActivity</span><span style="color:#24292E;">(intent);</span></span>
<span class="line"><span style="color:#24292E;">      successCallback.</span><span style="color:#6F42C1;">invoke</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;Installation success&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    } </span><span style="color:#D73A49;">catch</span><span style="color:#24292E;"> (Exception </span><span style="color:#E36209;">e</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">      Log.</span><span style="color:#6F42C1;">e</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;Installer&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;Installation failed&quot;</span><span style="color:#24292E;">, e);</span></span>
<span class="line"><span style="color:#24292E;">      successCallback.</span><span style="color:#6F42C1;">invoke</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;Installation failed&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>这是项目的 <code>AndroidManifest.xml</code> 文件：</p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">manifest</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">xmlns:android</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;http://schemas.android.com/apk/res/android&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">xmlns:tools</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;http://schemas.android.com/tools&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">&lt;!-- some users-permissions... --&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">application</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">android:name</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;.MainApplication&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">android:label</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;${app_name}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">android:icon</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;@mipmap/ic_launcher&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">android:roundIcon</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;@mipmap/ic_launcher_round&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">android:allowBackup</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;false&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">android:theme</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;@style/AppTheme&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">android:usesCleartextTraffic</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;true&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">&lt;!-- some activities... --&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">provider</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">android:name</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;androidx.core.content.FileProvider&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">android:authorities</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;${applicationId}.provider&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">android:exported</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;false&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">android:grantUriPermissions</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;true&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">meta-data</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">android:name</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;android.support.FILE_PROVIDER_PATHS&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">android:resource</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;@xml/file_paths&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/</span><span style="color:#85E89D;">provider</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;/</span><span style="color:#85E89D;">application</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">manifest</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">manifest</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">xmlns:android</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;http://schemas.android.com/apk/res/android&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">xmlns:tools</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;http://schemas.android.com/tools&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">&lt;!-- some users-permissions... --&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">application</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">android:name</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;.MainApplication&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">android:label</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;${app_name}&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">android:icon</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;@mipmap/ic_launcher&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">android:roundIcon</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;@mipmap/ic_launcher_round&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">android:allowBackup</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;false&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">android:theme</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;@style/AppTheme&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">android:usesCleartextTraffic</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;true&quot;</span></span>
<span class="line"><span style="color:#24292E;">  &gt;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">&lt;!-- some activities... --&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">provider</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">android:name</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;androidx.core.content.FileProvider&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">android:authorities</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;${applicationId}.provider&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">android:exported</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;false&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">android:grantUriPermissions</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;true&quot;</span></span>
<span class="line"><span style="color:#24292E;">    &gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">meta-data</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">android:name</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;android.support.FILE_PROVIDER_PATHS&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">android:resource</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;@xml/file_paths&quot;</span></span>
<span class="line"><span style="color:#24292E;">      /&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/</span><span style="color:#22863A;">provider</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;/</span><span style="color:#22863A;">application</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">manifest</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><p>这是项目的 <code>file_paths.xml</code> 文件：</p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;?</span><span style="color:#85E89D;">xml</span><span style="color:#B392F0;"> version</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;1.0&quot;</span><span style="color:#B392F0;"> encoding</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;utf-8&quot;</span><span style="color:#E1E4E8;">?&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">paths</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">xmlns:android</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;http://schemas.android.com/apk/res/android&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">external-path</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">name</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;downloads&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">path</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;Download/&quot;</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">paths</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;?</span><span style="color:#22863A;">xml</span><span style="color:#6F42C1;"> version</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;1.0&quot;</span><span style="color:#6F42C1;"> encoding</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;utf-8&quot;</span><span style="color:#24292E;">?&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">paths</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">xmlns:android</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;http://schemas.android.com/apk/res/android&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">external-path</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">name</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;downloads&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">path</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;Download/&quot;</span><span style="color:#24292E;"> /&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">paths</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><h4 id="chatbot-1" tabindex="-1">ChatBot: <a class="header-anchor" href="#chatbot-1" aria-label="Permalink to &quot;ChatBot:&quot;">​</a></h4><ul><li>您的 <code>AndroidManifest.xml</code> 文件中没有声明安装未知来源应用的权限，这个权限是 <code>android.permission.REQUEST_INSTALL_PACKAGES</code>¹。如果您的应用要安装其他应用，那么您需要在 <code>AndroidManifest.xml</code> 文件中添加这个权限，如下所示：</li></ul><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">uses-permission</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">android:name</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;android.permission.REQUEST_INSTALL_PACKAGES&quot;</span><span style="color:#E1E4E8;"> /&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">uses-permission</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">android:name</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;android.permission.REQUEST_INSTALL_PACKAGES&quot;</span><span style="color:#24292E;"> /&gt;</span></span></code></pre></div><ul><li>您的 <code>file_paths.xml</code> 文件中指定的路径是 <code>Download/</code>，但是您的代码中使用的路径是 <code>RNFS.ExternalCachesDirectoryPath</code>，这两个路径可能不一致。您需要确保您的文件提供器能够访问您要安装的 APK 文件所在的路径²。您可以尝试修改 <code>file_paths.xml</code> 文件中的路径为 <code>.</code>，表示根目录，或者使用其他合适的路径³。</li></ul><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">external-path</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">name</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;downloads&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">path</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;.&quot;</span><span style="color:#E1E4E8;"> /&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">external-path</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">name</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;downloads&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">path</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;.&quot;</span><span style="color:#24292E;"> /&gt;</span></span></code></pre></div><ul><li>您的代码中使用了 <code>intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)</code>，但是这个标志只能在 API 24 及以上版本生效⁴。如果您要支持低版本的 Android 设备，那么您需要在调用 <code>startActivity(intent)</code> 之前添加一行代码，如下所示：</li></ul><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">intent.</span><span style="color:#B392F0;">addFlags</span><span style="color:#E1E4E8;">(Intent.FLAG_GRANT_READ_URI_PERMISSION);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">intent.</span><span style="color:#6F42C1;">addFlags</span><span style="color:#24292E;">(Intent.FLAG_GRANT_READ_URI_PERMISSION);</span></span></code></pre></div><p>这样可以让安装程序获得读取 APK 文件的权限。</p><hr><div></div></div></div></main><footer class="VPDocFooter" data-v-a3c25e27 data-v-a2d931e4><!--[--><!--]--><!----><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div><div class="site-footer"><p><a class="vitepress" rel="license" target="_blank" href="http://creativecommons.org/licenses/by-nc-nd/3.0/">Creative Commons Attribution-NonCommercial-NoDerivs 3.0 Unported License</a> | Handcrafted by <a class="vitepress" rel="Author" target="_blank" href="https://github.com/EazycTee">Eazyc</a> - © 2016-2023 </p></div><!--]--></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"posts_2016_when-you-taught-me-how-to-dance-lyrics-translation_index.md\":\"0a407a2a\",\"drafts_mobile-app-design-measurement-peripherals-react-native_index.md\":\"3cf04852\",\"pages_about.md\":\"4518326a\",\"pages_archives.md\":\"9336a5a6\",\"pages_tags.md\":\"a99b8844\",\"posts_2018_javascript-object-layout_index.md\":\"23a65c94\",\"posts_2022_vue2-guide-components-in-depth_index.md\":\"ef3b4d0b\",\"posts_2022_vue2-guide-essentials_index.md\":\"3815be01\",\"posts_2022_vue2-guide-transitions-and-animation_index.md\":\"14d8e9fb\",\"posts_2022_vue2-in-development_index.md\":\"4babcb59\",\"posts_2023_laravel-docker_index.md\":\"afa68baf\",\"posts_2023_using-chatgpt-to-learn-and-work_index.md\":\"5f2501b4\",\"posts_2023_two-factor-authentication-solution_index.md\":\"421318ef\",\"posts_2017_linux-dst-dedicated-server-guide_index.md\":\"8b026a24\",\"index.md\":\"db97c609\",\"posts_2023_client-side-local-logs-implementation-react-native_index.md\":\"5c11a5eb\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Eazyc's Notebook\",\"description\":\"blog,Eazyc,programming,vitepress,dev,develop,development\",\"base\":\"/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"posts\":[{\"frontMatter\":{\"title\":\"Two-Factor Authentication Solution\",\"date\":\"2023-11-24\",\"author\":\"Eazyc\",\"tags\":[\"programming\"]},\"regularPath\":\"/posts/2023/two-factor-authentication-solution/index.html\"},{\"frontMatter\":{\"title\":\"Client-Side Local Logging Implementation | React Native\",\"description\":\"VitePress\",\"date\":\"2023-11-09\",\"author\":\"Eazyc\",\"tags\":[\"programming\"]},\"regularPath\":\"/posts/2023/client-side-local-logs-implementation-react-native/index.html\"},{\"frontMatter\":{\"title\":\"使用 ChatGPT 来辅助学习和编程\",\"date\":\"2023-10-12\",\"author\":\"Eazyc\",\"tags\":[\"programming\",\"misc\"]},\"regularPath\":\"/posts/2023/using-ChatGPT-to-learn-and-work/index.html\"},{\"frontMatter\":{\"title\":\"Laravel Development on Docker\",\"date\":\"2023-02-27\",\"author\":\"Eazyc\",\"tags\":[\"programming\"]},\"regularPath\":\"/posts/2023/laravel-docker/index.html\"},{\"frontMatter\":{\"title\":\"Vue2 架构的开发方案和开发流程\",\"date\":\"2022-04-02\",\"author\":\"Eazyc\",\"tags\":[\"programming\"]},\"regularPath\":\"/posts/2022/vue2-in-development/index.html\"},{\"frontMatter\":{\"title\":\"学习笔记 - Vue2 教程 过渡&动画 - 思维导图\",\"date\":\"2022-03-18\",\"author\":\"Eazyc\",\"tags\":[\"programming\"]},\"regularPath\":\"/posts/2022/vue2-guide-transitions-and-animation/index.html\"},{\"frontMatter\":{\"title\":\"学习笔记 - Vue2 教程 深入了解组件 - 思维导图\",\"date\":\"2022-03-13\",\"author\":\"Eazyc\",\"tags\":[\"programming\"]},\"regularPath\":\"/posts/2022/vue2-guide-components-in-depth/index.html\"},{\"frontMatter\":{\"title\":\"学习笔记 - Vue2 教程 基础 - 思维导图\",\"date\":\"2022-03-09\",\"author\":\"Eazyc\",\"tags\":[\"programming\"]},\"regularPath\":\"/posts/2022/vue2-guide-essentials/index.html\"},{\"frontMatter\":{\"title\":\"图解 JavaScript 的对象设计、构造函数与原型链\",\"date\":\"2018-01-13\",\"author\":\"Eazyc\",\"tags\":[\"programming\"]},\"regularPath\":\"/posts/2018/JavaScript-object-layout/index.html\"},{\"frontMatter\":{\"title\":\"饥荒联机版 Linux 服务器的搭建，世界和 MOD 的配置\",\"date\":\"2017-10-04\",\"author\":\"Eazyc\",\"tags\":[\"programming\"]},\"regularPath\":\"/posts/2017/linux-dst-dedicated-server-guide/index.html\"},{\"frontMatter\":{\"title\":\"When You Taught Me How to Dance\",\"date\":\"2016-04-03\",\"author\":\"Eazyc\",\"tags\":[\"misc\"]},\"regularPath\":\"/posts/2016/when-you-taught-me-how-to-dance-lyrics-translation/index.html\"}],\"website\":\"https://github.com/airene/vitepress-blog-pure\",\"comment\":{\"repo\":\"EazycTee/EazycTee.github.io\",\"themes\":\"github-light\",\"issueTerm\":\"pathname\"},\"nav\":[{\"text\":\"Tags\",\"link\":\"/pages/tags\"}],\"outline\":[2,3],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/EazycTee\"}]},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>